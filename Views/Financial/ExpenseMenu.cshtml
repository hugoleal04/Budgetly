@model Budgetly.Models.Expenses
@{
    ViewData["Title"] = "Expense Menu";
}

<h1>@ViewData["Title"]</h1>
<div>
    <form asp-action="ExpenseMenu" method="post">
        <br>
        <label asp-for="Type">Type of expense</label>
        <select asp-for="Type" class="form-select" aria-label="Default select example">
            <option selected value="Other">Other</option>
            <option value="Transport">Transport</option>
            <option value="Housing">Housing</option>
            <option value="Education">Education</option>
            <option value="Health">Health</option>
            <option value="Leisure">Leisure</option>
            <option value="Online Shopping">Online Shopping</option>
            <option value="Clothing">Clothing</option>
            <option value="Services">Services</option>
            <option value="Food">Food</option>
        </select>

        <div class="form-group">
            <label asp-for="Price">Ammount</label>
            <input required type="number" step="0.01" class="form-control" id="Price" asp-for="Price" placeholder="Amount of money">
        </div>

        <div class="form-group">
            <label asp-for="Description">Description</label>
            <input type="text" class="form-control" id="Description" asp-for="Description" placeholder="Description of the Expense">
        </div>

        <div class="mb-3">
            <label asp-for="Date" class="form-label">Date</label>
            <div class="input-group">
                <div class="input-group-text">
                    <input type="checkbox" class="form-check-input mt-0" id="todayCheck" checked>
                </div>
                <input required type="date" id="Date" asp-for="Date" name="Date" class="form-control">
            </div>
            <small class="form-text text-muted">Uncheck to choose another date</small>
        </div>

        <script>
            window.addEventListener("DOMContentLoaded", function () {
                const dateInput = document.getElementById("Date");
                const todayCheck = document.getElementById("todayCheck");

                const today = new Date().toISOString().split('T')[0];
                dateInput.value = today;
                dateInput.readOnly = true;

                todayCheck.addEventListener("change", function () {
                    if (this.checked) {
                        dateInput.value = today;
                        dateInput.readOnly = true;
                    } else {
                        dateInput.readOnly = false;
                    }
                });
            });
        </script>


        <div class="form-check">
            <input asp-for="Recurring" class="form-check-input" type="checkbox" />
            <label asp-for="Recurring" class="form-check-label">Recurring</label>
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>

    </form>
</div>

